---
import Layout from '@/layouts/Layout.astro';
import LogoutButton from '@/components/auth/LogoutButton.astro';

// Get user from middleware
const user = Astro.locals.user;

// Redirect to login if no user (shouldn't happen due to middleware, but TypeScript doesn't know that)
if (!user) {
    return Astro.redirect('/login');
}
---

<Layout title="Dashboard">
    <h1>Dashboard</h1>
    
    <p>Logged in as: {user.username}</p>
    
    <LogoutButton />

    <div>
        <a href="/">Home</a>
    </div>
</Layout> 